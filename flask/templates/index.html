<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>작품 목록</title>

    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>
    <h1>작품 목록</h1>

    <!-- 필터링 옵션 1 -->
    <form method="POST" action="/filter">
        <label for="filter1">정렬 기준:</label>
        <select name="filter1" id="filter1">
            {% for option in filter_options_1 %}
                <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
        
        <!-- 필터링 옵션 2 -->
        <label for="filter2">장르:</label>
        <select name="filter2" id="filter2">
            {% for option in filter_options_2 %}
                <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
        
        <!-- 필터링 옵션 3 -->
        <label for="filter3">표시할 결과 수:</label>
        <select name="filter3" id="filter3">
            {% for option in filter_options_3 %}
                <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
        
        <button type="submit">필터 적용</button>
    </form>

    <!-- 작품 목록 테이블 -->
    <table>
        <thead>
            <tr>
                <th>작품 제목</th>
                <th>조회수</th>
                <th>추천수</th>
                <th>선호작 수</th>
                <th>장르</th>
                <th>작품 ID</th>
            </tr>
        </thead>
        <tbody>
            {% for item in result %}
                <tr>
                    <td>{{ item.title }}</td>
                    <td>{{ item.total_view }}</td>
                    <td>{{ item.total_recommend }}</td>
                    <td>{{ item.prefer }}</td>
                    <td>{{ item.genre }}</td>
                    <td><a href="https://novel.munpia.com/{{ item.series_id }}">{{ item.series_id }}</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>

